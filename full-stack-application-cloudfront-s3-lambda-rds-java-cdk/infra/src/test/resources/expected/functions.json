{
  "FlashcardsLambdaFunction8F0027D3": {
    "Type": "AWS::Lambda::Function",
    "Properties": {
      "Environment": {
        "Variables": {
          "DB_CREDENTIALS_SECRET_NAME": {
            "Fn::Select": [
              0,
              {
                "Fn::Split": [
                  "-",
                  {
                    "Fn::Select": [
                      6,
                      {
                        "Fn::Split": [
                          ":",
                          {
                            "Ref": "FlashcardsDatabaseSecretD7477562"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "DB_ENDPOINT": {
            "Fn::GetAtt": [
              "FlashcardsDatabase828C0B26",
              "Endpoint.Address"
            ]
          },
          "DB_NAME": "flashcards",
          "DB_PORT": "5432",
          "DB_USER": "postgres"
        }
      },
      "FunctionName": "FlashcardsLambdaFunction",
      "Handler": "com.example.flashcards.FlashcardsLambdaApplication::handleRequest",
      "MemorySize": 2048,
      "Role": {
        "Fn::GetAtt": [
          "FlashcardsLambdaFunctionServiceRoleD7AF7F5A",
          "Arn"
        ]
      },
      "Runtime": "java17",
      "Timeout": 29,
      "VpcConfig": {
        "SecurityGroupIds": [
          {
            "Fn::GetAtt": [
              "FlashcardsLambdaSecurityGroup4BDB2D7C",
              "GroupId"
            ]
          }
        ],
        "SubnetIds": [
          {
            "Ref": "FlashcardsVPCPrivateSubnet1Subnet5584D35B"
          },
          {
            "Ref": "FlashcardsVPCPrivateSubnet2SubnetF83FBD5D"
          }
        ]
      }
    },
    "DependsOn": [
      "FlashcardsLambdaFunctionServiceRoleDefaultPolicyB58F03FC",
      "FlashcardsLambdaFunctionServiceRoleD7AF7F5A",
      "FlashcardsVPCPrivateSubnet1DefaultRouteA41A304A",
      "FlashcardsVPCPrivateSubnet1RouteTableAssociationCFC81E85",
      "FlashcardsVPCPrivateSubnet2DefaultRouteA245F2DA",
      "FlashcardsVPCPrivateSubnet2RouteTableAssociation07A3CD65"
    ]
  },
  "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536": {
    "Type": "AWS::Lambda::Function",
    "Properties": {
      "Environment": {
        "Variables": {
          "AWS_CA_BUNDLE": "/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"
        }
      },
      "Handler": "index.handler",
      "Layers": [
        {
          "Ref": "FlashcardsBucketDeploymentAwsCliLayer10BA7CAE"
        }
      ],
      "Role": {
        "Fn::GetAtt": [
          "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265",
          "Arn"
        ]
      },
      "Runtime": "python3.11",
      "Timeout": 900
    },
    "DependsOn": [
      "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF",
      "CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"
    ]
  }
}