{
  "title": "API Gateway multi account setup with ECS using AWS PrivateLink",
  "description": "Building private cross-account APIs using Amazon API Gateway and AWS PrivateLink",
  "language": "Python",
  "level": "300",
  "framework": "SAM",
  "introBox": {
    "headline": "How it works",
    "text": [
      "This sample project demonstrates how to enable secure, centralized API communications across multiple AWS accounts that contains ECS clusters using a private AWS PrivateLink. It facilitates east/west communication between services while keeping traffic within the AWS network.",
      "The architecture utilizes key AWS services such as Amazon API Gateway (Private), VPC links, Network Load Balancers (NLBs), and Execute-API VPC Endpoints. These services work together to securely route requests between multiple AWS accounts and their respective private APIs.",
      "This pattern deploys three separate AWS accounts: a central account hosting the main API Gateway and routing components, an account A and B with an ECS Fargate services behind a NLB. Each account contains its own AWS resources to ensure proper communication and isolation."
    ]
  },
  "gitHub": {
    "template": {
      "repoURL": "https://github.com/aws-samples/serverless-patterns/tree/main/multi-account-private-apigw-ecs-sam",
      "templateURL": "serverless-patterns/multi-account-private-apigw-ecs-sam",
      "projectFolder": "multi-account-private-apigw-ecs-sam",
      "templateFile": "centralAccount/template.yaml"
    }
  },
  "resources": {
    "bullets": [
      {
        "text": "Amazon API Gateway (Private)",
        "link": "https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-private-apis.html"
      },
      {
        "text": "Execute-API VPC Endpoint",
        "link": "https://docs.aws.amazon.com/vpc/latest/privatelink/create-interface-endpoint.html"
      },
      {
        "text": "VPC Links",
        "link": "https://docs.aws.amazon.com/vpc/latest/userguide/endpoint-services-overview.html"
      },
      {
        "text": "Network Load Balancer (NLB)",
        "link": "https://docs.aws.amazon.com/elasticloadbalancing/latest/network/introduction.html"
      },
      {
        "text": "Amazon ECS Fargate",
        "link": "https://docs.aws.amazon.com/AmazonECS/latest/developerguide/AWS_Fargate.html"
      },
      {
        "text": "Amazon EC2",
        "link": "https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html"
      }
    ]
  },
  "deploy": {
    "text": [
      "sam deploy --guided --profile PROFILE_NAME"
    ]
  },
  "testing": {
    "text": [
      "See the GitHub repo for detailed testing instructions."
    ]
  },
  "cleanup": {
    "text": [
      "Delete the stack: <code>cdk delete</code>."
    ]
  },
  "authors": [
    {
      "name": "Stan Kroshchenko",
      "image": "link-to-your-photo.jpg",
      "bio": "Stan is a Senior Solutions Architect at Amazon Web Services.",
      "linkedin": "stanislav-kroshchenko"
    }
  ]
}
