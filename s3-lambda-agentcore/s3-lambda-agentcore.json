{
    "title": "Amazon S3 to AWS Lambda to Amazon Bedrock AgentCore.",
      "description": "This pattern creates an Amazon S3 bucket, which triggers an AWS Lambda function, which invokes an agent in Amazon Bedrock AgentCore.",
    "language": "Python",
    "level": "200",
    "framework": "Terraform",
    "services": {
        "from": "s3",
        "to": "lambda"
    },
    "introBox": {
        "headline": "How it works",
        "text": [
            "S3 will invoke the Lambda function when an object is created or updated. It will pass metadata about the new object in the event argument of the Lambda invocation.",
            "The lambda function will invoke the agent and pass a uri for the s3 file.",
            "The agent will categorize the file as architecture, runbook, or other and identify some metadata. Then it will send the results back to the Lambda function as JSON.",
            "The Lambda function will write the metadata to the S3 output bucket."
        ]
    },
    "gitHub": {
        "template": {
            "repoURL": "https://github.com/aws-samples/serverless-patterns/tree/main/s3-lambda-agentcore",
            "templateURL": "serverless-patterns/s3-lambda-agentcore",
            "projectFolder": "s3-lambda-agentcore",
            "templateFile": "deploy.tf"
        }
    },
    "resources": {
        "bullets": [
            {
                "text": "Trigger AWS Lambda with Amazon S3",
                "link": "https://docs.aws.amazon.com/lambda/latest/dg/with-s3.html"
            },
            {
                "text": "Invoke an AgentCore Runtime agent",
                "link": "https://docs.aws.amazon.com/bedrock-agentcore/latest/devguide/runtime-invoke-agent.html"
            }
        ]
    },
    "deploy": {
        "text": [
            "terraform apply"
        ]
    },
    "testing": {
        "text": [
            "See the GitHub repo for detailed testing instructions."
        ]
    },
    "cleanup": {
        "text": [
            "terraform destroy"
        ]
    },
    "authors": [
        {
            "name": "Geoffrey Burdett",
            "bio": "Sr. Solutions Architect at AWS",
            "image": "http://www.geoffreyburdett.com.s3-website-us-east-1.amazonaws.com/images/headshot.jpeg",
            "linkedin": "geoffreyburdett"
        }
    ],
    "patternArch": {
        "icon1": {
            "x": 20,
            "y": 50,
            "service": "s3",
            "label": "Amazon S3"
        },
        "icon2": {
            "x": 50,
            "y": 50,
            "service": "lambda",
            "label": "AWS Lambda"
        },
        "icon3": {
            "x": 80,
            "y": 50,
            "service": "bedrock",
            "label": "Amazon Bedrock AgentCore"
        },
        "line1": {
            "from": "icon1",
            "to": "icon2"
        },
        "line2": {
            "from": "icon2",
            "to": "icon3"
        }
    }
}
